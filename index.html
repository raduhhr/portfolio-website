# raduhhr.xyz

Personal portfolio and contact form built from scratch. End-to-end: domain registration → DNS → responsive frontend → serverless backend → email delivery.

**Live site:** [raduhhr.xyz](https://raduhhr.xyz)

---

## Overview

Single-page portfolio with a production-hardened contact form. No frameworks, no bundlers, no build step.

**What it does:**
- Portfolio showcasing projects and experience
- Contact form with bot protection and rate limiting
- Automated deployment via Cloudflare Pages

**Why no framework:**
- Built understanding of fundamentals (DOM API, event handling, async patterns)
- Zero JS bundle, no hydration overhead
- Single HTML file, inline CSS, vanilla JS
- Demonstrates ability to work without abstraction layers

---

## Architecture

```
┌─────────────────────────────────────────────────────────────┐
│  DNS (Cloudflare)                                           │
│  • raduhhr.xyz → Cloudflare Pages                           │
│  • SPF, DKIM, DMARC records for email auth                  │
│  • DNSSEC enabled                                           │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│  Frontend (Cloudflare Pages)                                │
│  • Single HTML file, inline CSS/JS                          │
│  • Responsive design (320px → 4K)                           │
│  • Theme toggle (system/light/dark)                         │
│  • Intersection Observer animations                         │
│  • Terminal-inspired aesthetic (JetBrains Mono, scanlines)   │
└────────────────┬────────────────────────────────────────────┘
                 │ POST /contact
                 │ {name, email, message, turnstileToken}
                 ▼
┌─────────────────────────────────────────────────────────────┐
│  Backend (Cloudflare Worker)                                │
│  • Input validation (RFC 5322 email, length checks)         │
│  • Turnstile verification (bot protection)                  │
│  • Rate limiting (5/hour per IP, KV-backed)                 │
│  • CORS enforcement                                         │
│  • HTML escaping (XSS prevention)                           │
└────────────────┬────────────────────────────────────────────┘
                 │ AWS SDK SendEmailCommand
                 ▼
┌─────────────────────────────────────────────────────────────┐
│  Email (AWS SES)                                            │
│  • Verified domain with SPF/DKIM/DMARC                      │
│  • HTML + plaintext multipart templates                     │
│  • Bounce/complaint tracking                                │
└─────────────────────────────────────────────────────────────┘
```

---

## Tech Stack

**Frontend:**
- HTML5 semantic markup with structured data (JSON-LD)
- CSS3 (custom properties, grid, flexbox, media queries)
- Vanilla JavaScript (ES6+, async/await, Intersection Observer)

**Backend:**
- Cloudflare Workers (V8 isolates)
- AWS SDK v3 for JavaScript
- Cloudflare KV (rate limit state)

**Infrastructure:**
- Cloudflare Pages (edge deployment)
- Cloudflare Workers (serverless compute)
- Cloudflare DNS (DNSSEC enabled)
- Cloudflare Turnstile (bot protection)
- AWS SES (transactional email)

---

## Frontend Details

### Theme System
- Three-state cycle: system → light → dark
- Single CSS definition for dark theme (`[data-theme="dark"]`)
- JS resolves effective theme and always sets `data-theme` attribute on `<html>`
- Respects `prefers-color-scheme` when in system mode
- No localStorage — resets to system on page load
- Smooth transitions via temporary `theme-transitioning` class (skipped for `prefers-reduced-motion`)

### Responsive Design
- Mobile-first with breakpoints at 768px, 980px, and 1440px
- CSS Grid for project detail layouts and contact section
- Flexbox for navigation and component alignment
- Touch device handling: kills sticky `:hover` states via `@media (hover: none)`
- Mobile scroll performance: strips heavy transitions, uses lighter IO observers

### Animations & Interactions
- Desktop: scroll-triggered fade-in reveals (Intersection Observer, `threshold: 0.1`)
- Mobile: center-band IO for project cards (`rootMargin: -32%`) and timeline items (`rootMargin: -8%`) — toggles `in-view` class on enter/exit
- Blinking cursor on hero title
- Scanline overlay on desktop (CSS `repeating-linear-gradient`, composited layer)
- `prefers-reduced-motion: reduce` disables all transitions and animations

### Accessibility
- Semantic HTML5 (`<main>`, `<nav>`, `<section>`, `<aside>`)
- ARIA labels on all interactive elements
- `aria-expanded` on mobile menu toggle
- Focus trap in mobile navigation (Tab/Shift+Tab cycle, Escape to close)
- Skip-to-content link
- `focus-visible` outlines (suppressed for touch/mouse interactions)

### Performance
- `content-visibility: auto` on off-screen sections
- Lazy-loaded images (`loading="lazy"`, `decoding="async"`)
- Turnstile script lazy-loaded via IO when `#contact` scrolls into view
- Google Fonts loaded with `fetchpriority="high"` and `preconnect`
- Proper favicon files (PNG 48/96/192/512 + ICO) instead of data URI

---

## Contact Form

### Security
- Cloudflare Turnstile (privacy-preserving CAPTCHA alternative)
- Server-side token verification on every submission
- Rate limiting: 5 submissions/hour per IP (KV-backed)
- Origin allowlist via CORS
- Email validation requires TLD (regex with `+` quantifier on domain groups)
- Input length constraints (name: 2-100, email: max 254, message: 10-2000)
- HTML escaping in email templates

### UX
- Real-time character counter (0/2000) with warning/error thresholds
- Inline field validation on blur
- Loading state during submission (inputs disabled, button text changes)
- Success/error status messages with auto-dismiss
- Form + Turnstile reset on successful submit

---

## Infrastructure Decisions

### Why Cloudflare Pages?
- 310+ edge locations, fast TTFB
- Native Workers integration
- Free tier covers all needs
- Automatic deployments from Git

### Why Cloudflare Workers?
- Sub-50ms execution (V8 isolates, not containers)
- Automatic scaling
- 100k requests/day on free tier

### Why AWS SES?
- Better inbox placement than alternatives
- $0.10 per 1k emails
- Full bounce/complaint metrics
- SPF/DKIM/DMARC verification

---

## Performance

- **Lighthouse:** 100/100/100/100 (Performance / Accessibility / Best Practices / SEO)
- **First Contentful Paint:** <0.5s
- **Time to Interactive:** <1s
- **Page weight:** ~78KB HTML+CSS (gzip), 0KB JS bundle
- **Worker latency:** 20-50ms (including Turnstile verification)

---

## Project Structure

```
.
├── index.html              # Single-page portfolio + contact form
├── favicon.ico             # Multi-size ICO (48 + 96)
├── favicon-48.png          # 48px favicon
├── favicon-96.png          # 96px favicon
├── favicon-192.png         # 192px (apple-touch-icon)
├── favicon-512.png         # 512px (PWA/large displays)
├── og-image.png            # Open Graph preview image (1200x630)
├── tresor-ctl.png          # Project screenshot
├── grafana-host.png        # Project screenshot
├── grafana-containers.png  # Project screenshot
├── Radu_Circei.pdf         # CV download
├── robots.txt              # Crawl directives
├── sitemap.xml             # Sitemap
├── src/
│   └── worker.js           # Cloudflare Worker (form backend)
├── wrangler.toml           # Worker config (KV binding, vars)
├── package.json            # Worker dependencies (AWS SDK)
└── README.md
```

---

## Security Notes

**Frontend:**
- Input sanitization before submission
- `onsubmit` handler on form (only inline handler in the codebase)
- Generic error messages (no internal info leakage)

**Backend:**
- Origin allowlist (only raduhhr.xyz accepted)
- Rate limiting per IP
- Turnstile verification on every submission
- No sensitive data in logs

**Email:**
- SPF prevents sender spoofing
- DKIM validates message integrity
- DMARC enforces authentication
- HTML escaping prevents XSS in email body

**Infrastructure:**
- HTTPS only (HSTS via Cloudflare)
- DNSSEC enabled
- Automatic TLS certificate renewal
- DDoS protection via Cloudflare

---

## License

MIT
